<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <script src="./script.js"></script>

    <title>Carrer Sparsh</title>
  </head>
  <body>
    <div class="container-fluid" style="height: 100vh">
      <!-- First Row (20% VH) -->
      <div class="row h-25 top_row">
        <div class="col d-flex align-items-center justify-content-center">
          <span
            style="
              color: #184b2c;
              font-family: Poppins;
              font-size: 40px;
              font-style: normal;
              font-weight: 700;
              line-height: 18px; /* 45% */
            "
            >Carrer Sparsh</span
          >
        </div>
      </div>

      <!-- Second Row (80% VH) -->
      <div class="row h-75 bottom_row">
        <div class="col d-flex align-items-center justify-content-center">
          <!-- Card with Input and Button -->
          <div
            class="card"
            style="
              width: 400px;
              height: 200px;
              flex-shrink: 0;
              border-radius: 20px;
              background: linear-gradient(
                180deg,
                #fcf8f0 0%,
                rgba(252, 248, 240, 0.4) 100%
              );
            "
          >
            <div class="card-body">
              <div class="form-group text-center">
                <label
                  for="textInput"
                  style="
                    color: #2c8550;
                    text-align: center;
                    font-family: Poppins;
                    font-size: 18px;
                    font-style: normal;
                    font-weight: 400;
                    line-height: 18px; /* 72% */
                  "
                  >Enter ID:</label
                >
                <input
                  type="text"
                  class="form-control"
                  id ="textInput"
                  style="
                    border-radius: 10px;
                    border: 1px solid rgba(44, 133, 80, 0.5);
                    background: linear-gradient(
                      180deg,
                      #fff 0%,
                      rgba(255, 255, 255, 0.58) 100%
                    );
                  "
                />
              </div>
              <button
                type="button"
                class="btn btn-block rounded-pill"
                style="background: #77b891; color: white"
                id="submitButton"
                >
                Submit
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.getElementById('submitButton').addEventListener('click', function () {
          // Make an API request (replace with your actual API endpoint)
          const id = document.getElementById('textInput').value;
          console.log(id)
          fetch(`https://commerce-onewhoshouldnotbenamed.vercel.app/api/data?sheet=AICO&id=${id}`)
          .then(response => response.json())
                .then(data => {
                  // console.log(data[0])
                  // // Store data in session storage
                  sessionStorage.setItem('ProfileAnalysis',JSON.stringify(data[0]));
                  sessionStorage.setItem('Insight', JSON.stringify(data[1]));
                  // // Navigate to the result page
                  window.location.href = 'index.html';
              })
              .catch(error => console.error('Error fetching data:', error));
      });
  </script>


  </body>
</html>
